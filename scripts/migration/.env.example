# =============================================================================
# CMS to Stripe Migration Configuration
# =============================================================================

# Environment
NODE_ENV=development
MIGRATION_DRY_RUN=true
MIGRATION_LOG_LEVEL=INFO

# =============================================================================
# Migration Strategy
# =============================================================================

# Strategy: full, incremental, selective
MIGRATION_STRATEGY=incremental

# For incremental migration (ISO date format)
MIGRATION_START_DATE=2024-01-01T00:00:00Z
MIGRATION_END_DATE=2024-12-31T23:59:59Z

# For selective migration (comma-separated product IDs)
MIGRATION_PRODUCT_IDS=

# Skip products that already have Stripe IDs
MIGRATION_SKIP_EXISTING=true

# =============================================================================
# Performance Configuration
# =============================================================================

# Batch processing
MIGRATION_BATCH_SIZE=10
MIGRATION_MAX_CONCURRENCY=5
MIGRATION_CHECKPOINT_INTERVAL=100

# Retry configuration
MIGRATION_MAX_RETRIES=3
MIGRATION_RETRY_DELAY=1000

# Backup configuration
MIGRATION_BACKUP_ENABLED=true

# =============================================================================
# Stripe Configuration
# =============================================================================

# Stripe API credentials
STRIPE_SECRET_KEY=sk_test_51...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_API_VERSION=2023-10-16

# Rate limiting (max 100 requests/second)
STRIPE_MAX_RPS=90

# =============================================================================
# Supabase Configuration
# =============================================================================

# Supabase connection
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# Connection pooling
SUPABASE_POOL_SIZE=10
SUPABASE_QUERY_TIMEOUT=30000

# =============================================================================
# Production Overrides
# =============================================================================

# For production environment, copy this file to .env.production and update:
# NODE_ENV=production
# MIGRATION_DRY_RUN=false
# MIGRATION_BATCH_SIZE=25
# MIGRATION_MAX_CONCURRENCY=3
# MIGRATION_LOG_LEVEL=WARN
# STRIPE_SECRET_KEY=sk_live_...